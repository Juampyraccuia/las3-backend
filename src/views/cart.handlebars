<div class="cart-container">
    <h1>Carrito de Compras</h1>
    
    {{#if cart.products.length}}
        <div class="cart-items">
            {{#each cart.products}}
                <div class="cart-item">
                    <img src="{{this.product.thumbnails.[0]}}" alt="{{this.product.title}}" class="cart-item-image">
                    <div class="cart-item-info">
                        <h3>{{this.product.title}}</h3>
                        <p class="price">Precio: ${{this.product.price}}</p>
                        <div class="quantity-control">
                            <label>Cantidad:</label>
                            <input type="number" 
                                   value="{{this.quantity}}" 
                                   min="1" 
                                   onchange="updateQuantity('{{../cart._id}}', '{{this.product._id}}', this.value)">
                        </div>
                        <button onclick="removeFromCart('{{../cart._id}}', '{{this.product._id}}')" class="remove-btn">
                            Eliminar
                        </button>
                    </div>
                </div>
            {{/each}}
        </div>
        <div class="cart-summary">
            <button onclick="clearCart('{{cart._id}}')" class="clear-cart-btn">
                Vaciar Carrito
            </button>
            <button onclick="checkout()" class="checkout-btn">
                Finalizar Compra
            </button>
        </div>
    {{else}}
        <p class="empty-cart">El carrito está vacío</p>
        <a href="/products" class="continue-shopping">Continuar Comprando</a>
    {{/if}}
</div>

<script src="/js/cart.js"></script>